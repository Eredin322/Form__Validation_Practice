{"version":3,"file":"main.js","mappings":"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","sources":["webpack://gulp-scss-starter/./src/blocks/modules/header/header.js","webpack://gulp-scss-starter/./src/js/import/modules.js","webpack://gulp-scss-starter/webpack/bootstrap","webpack://gulp-scss-starter/webpack/runtime/compat get default export","webpack://gulp-scss-starter/webpack/runtime/define property getters","webpack://gulp-scss-starter/webpack/runtime/hasOwnProperty shorthand","webpack://gulp-scss-starter/webpack/runtime/make namespace object","webpack://gulp-scss-starter/./src/js/index.js"],"sourcesContent":["\"use strict\"\r\n\r\ndocument.addEventListener('DOMContentLoaded', function () {\r\n  const form = document.getElementById(\"form\");\r\n  form.addEventListener(\"submit\", formSend);\r\n\r\n  async function formSend(e) {\r\n    e.preventDefault();\r\n\r\n    let error = formValidate(form);\r\n\r\n    let formData = new FormData(form);\r\n    formData.append('image', formImage.files[0]);\r\n\r\n    if (error===0){\r\n      form.classList.add('_sending')\r\n      // let response = await fetch('sendmail.php', {\r\n      //   method: 'POST',\r\n      //   body: formData\r\n      // });\r\n      // if(response.ok) {\r\n      //   let result = await response.json();\r\n      //   alert(result.message);\r\n      //   formPreview.innerHTML = '';\r\n      //   form.reset();\r\n      //   form.classList.remove('_sending');\r\n      // } else {\r\n      //   alert('Ошибка');\r\n      //   form.classList.remove('_sending');\r\n      // }\r\n    } else {\r\n      alert(\"Заполните обязательные поля\")\r\n    }\r\n  }\r\n\r\n  function formValidate(form) {\r\n    let error = 0;\r\n    let formReq = document.querySelectorAll('._req');\r\n\r\n    for (let index = 0; index < formReq.length; index++) {\r\n      const input = formReq[index];\r\n      formRemoveError(input);\r\n\r\n      if(input.classList.contains('_email')) {\r\n        if (emailTest(input)) {\r\n            formAddError(input);\r\n            error++;\r\n        }\r\n      } else if (input.getAttribute(\"type\") === \"checkbox\" && input.checked === false) {\r\n        formAddError(input);\r\n        error++;\r\n      } else {\r\n        if (input.value === \"\") {\r\n          formAddError(input);\r\n          error++;\r\n        }\r\n      }\r\n    };\r\n    return error;\r\n  }\r\n\r\n  function formAddError(input) {\r\n    input.parentElement.classList.add('_error');\r\n    input.classList.add('_error');\r\n  }\r\n\r\n  function formRemoveError(input) {\r\n    input.parentElement.classList.remove('_error');\r\n    input.classList.remove('_error');\r\n  }\r\n\r\n  //Функция теста email\r\n  function emailTest(input) {\r\n    return !/^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,8})+$/.test(input.value);\r\n  }\r\n\r\n  //Получаем инпут file в переменную\r\n  const formImage = document.getElementById('formImage');\r\n  //Получаем див для превью в переменную\r\n  const formPreview = document.getElementById('formPreview');\r\n\r\n  //Слушаем изменения в инпуте file\r\n  formImage.addEventListener('change', () => {\r\n    uploadFile(formImage.files[0]);\r\n  });\r\n\r\n  function uploadFile(file) {\r\n    //Проверяем тип файла\r\n    if (!['image/jpeg', 'image/png', 'image/gif'].includes(file.type)) {\r\n      alert('Разрешены только изображения');\r\n      formImage.value = '';\r\n      return;\r\n    }\r\n    //Проверяем размер файла (<2 мб)\r\n    if (file.size > 2 * 1024 * 1024) {\r\n      alert('Файл должен быть менее 2 МБ.');\r\n      return;\r\n    }\r\n\r\n    let reader = new FileReader();\r\n    reader.onload = function (e) {\r\n      formPreview.innerHTML = `<img src=\"${e.target.result}\" alt=\"Фото\">`;\r\n    };\r\n    reader.onerror = function (e) {\r\n      alert('Ошибка');\r\n    };\r\n    reader.readAsDataURL(file);\r\n  }\r\n});","import \"%modules%/header/header\";\r\nimport \"%modules%/footer/footer\";","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import \"./import/modules\";\r\nimport \"./import/components\";"],"names":["document","addEventListener","form","getElementById","formSend","e","preventDefault","error","formValidate","formData","FormData","append","formImage","files","classList","add","alert","formReq","querySelectorAll","index","length","input","formRemoveError","contains","emailTest","formAddError","getAttribute","checked","value","parentElement","remove","test","formPreview","uploadFile","file","includes","type","size","reader","FileReader","onload","innerHTML","target","result","onerror","readAsDataURL"],"sourceRoot":""}